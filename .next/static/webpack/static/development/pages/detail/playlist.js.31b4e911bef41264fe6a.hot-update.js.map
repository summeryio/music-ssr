{"version":3,"file":"static/webpack/static/development/pages/detail/playlist.js.31b4e911bef41264fe6a.hot-update.js","sources":["webpack:///./components/Detail/Playlist.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'next/router'\nimport { connect } from 'react-redux';\nimport { fetchDetailPlaylist } from '../../redux/actions/detail';\n\nimport Header from '../Header'\nimport Loading from '../Loading'\nimport Img from '../Img'\nimport SongList from '../SongList'\n\nclass Playlist extends Component {\n    constructor(props) {\n        super(props)\n        \n        // const { router: { query } } = props;\n\n        this.state = {\n            playlistData: {}\n        }\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.playlist && nextProps.playlist !== prevState.playlistData) {\n            return {\n                playlistData: nextProps.playlist\n            };\n        }\n        \n        return null; \n    }\n\n    componentDidMount() {\n        const { router: { query } } = this.props;\n        \n        fetchDetailPlaylist(query.id)\n    }\n    \n    render() {\n        let {playlistData} = this.state\n        \n        return (\n            <div id=\"playlist_detail\">\n                {/* <Header title=\"歌单\"/> */}\n                {\n                    Object.keys(playlistData).length ? (\n                        <div>\n                            <div className=\"header\">\n                                <div className=\"bg\" style={{backgroundImage: `url(${playlistData.coverImgUrl + '?param=400y400'})`}}></div>\n                                <div className=\"cont\">\n                                    <img src={playlistData.coverImgUrl + '?param=400y400'} />\n                                    <div className=\"info\">\n                                        <p>{playlistData.name}</p>\n                                        <p>{playlistData.creator.nickname}</p>\n                                        {/* <p>创建时间：{formatDateYMD(playlistData.createTime)}</p> */}\n                                    </div>\n                                </div>\n                                {/* <PlayAll songs={playlistData.tracks} /> */}\n                            </div>\n                            <SongList songs={playlistData.tracks} />\n                         </div>\n                    ) : <Loading full={true}/>\n                }\n                \n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => ({\n    playlist: state.detail.playlist.playlists\n});\n  \nconst mapDispatchToProps = dispatch => ({\n    fetchDetailPlaylist(id) {\n      dispatch(fetchDetailPlaylist(id));\n    }\n});\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Playlist));"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAGA;AACA;AADA;AALA;AAQA;AACA;;;AAWA;AAAA;AACA;AAEA;AACA;;;AAEA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;AA5CA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;;;;AAnBA;AACA;AA0DA;AAAA;AACA;AADA;AAAA;AACA;AAGA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AAKA;;;;A","sourceRoot":""}