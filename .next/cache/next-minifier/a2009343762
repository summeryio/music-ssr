{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"446b\"],{\"+A8i\":function(t,e,n){\"use strict\";n.d(e,\"d\",function(){return r}),n.d(e,\"f\",function(){return i}),n.d(e,\"e\",function(){return l}),n.d(e,\"a\",function(){return c}),n.d(e,\"c\",function(){return s}),n.d(e,\"b\",function(){return u});var a=n(\"3W+V\");function r(t){return{type:a.B,payload:{page:t}}}function i(t,e){return{type:a.D,payload:{data:t,more:e}}}function l(){return{type:a.C}}function c(t){return{type:a.y,payload:{page:t}}}function s(t,e){return{type:a.A,payload:{data:t,more:e}}}function u(){return{type:a.z}}},\"70ZN\":function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return p});var a=n(\"0iUn\"),r=n(\"sLSF\"),i=n(\"MI3g\"),l=n(\"a7VT\"),c=n(\"Tit0\"),s=n(\"q1tI\"),u=n.n(s),o=n(\"VFWX\"),p=function(t){function e(t){var n;return Object(a.default)(this,e),(n=Object(i.default)(this,Object(l.default)(e).call(this,t))).state={page:0,isFoot:!0,len:0},n}return Object(c.default)(e,t),Object(r.default)(e,[{key:\"touchStart\",value:function(t){this.startx=t.touches[0].pageX,this.starty=t.touches[0].pageY}},{key:\"touchEnd\",value:function(t){var e,n;switch(e=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY,this.getDirection(this.startx,this.starty,e,n)){case 0:break;case 1:this.loadData()}}},{key:\"getAngle\",value:function(t,e){return 180*Math.atan2(e,t)/Math.PI}},{key:\"getDirection\",value:function(t,e,n,a){var r=n-t,i=a-e,l=0;if(Math.abs(r)<2&&Math.abs(i)<2)return l;var c=this.getAngle(r,i);return c>=-135&&c<=-45?l=1:c>45&&c<135?l=2:c>=135&&c<=180||c>=-180&&c<-135?l=3:c>=-45&&c<=45&&(l=4),l}},{key:\"loadData\",value:function(){var t=this,e=this.props.fetchData;this.refs.onPullUp.clientHeight-(document.body.scrollTop||document.documentElement.scrollTop)-10<document.documentElement.clientHeight&&this.state.isFoot&&this.setState({isFoot:!1,page:this.state.page+1},function(){e(t.state.page)})}},{key:\"render\",value:function(){var t=this.props,e=t.more,n=t.len,a=t.children;return u.a.createElement(\"div\",{className:\"scroll_wrapper\",ref:\"onPullUp\",onTouchStart:this.touchStart.bind(this),onTouchEnd:this.touchEnd.bind(this)},a,e?n&&this.state.isFoot?u.a.createElement(\"p\",{className:\"scroll-tip\"},\"上拉加载更多\"):u.a.createElement(o.a,null):u.a.createElement(\"p\",{className:\"scroll-tip\"},\"我是有底线的\"))}}],[{key:\"getDerivedStateFromProps\",value:function(t,e){return t.len&&t.len!==e.len?{len:t.len,isFoot:!0}:null}}]),e}(s.Component)},b0oO:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return h});var a=n(\"0iUn\"),r=n(\"sLSF\"),i=n(\"MI3g\"),l=n(\"a7VT\"),c=n(\"Tit0\"),s=n(\"q1tI\"),u=n.n(s),o=n(\"YFqc\"),p=n.n(o),f=n(\"nOHt\"),d=n.n(f),h=function(t){function e(){return Object(a.default)(this,e),Object(i.default)(this,Object(l.default)(e).apply(this,arguments))}return Object(c.default)(e,t),Object(r.default)(e,[{key:\"render\",value:function(){var t=this.props.title;return u.a.createElement(\"div\",{id:\"header_title\"},u.a.createElement(\"a\",{onClick:function(){d.a.back()}},u.a.createElement(\"i\",{className:\"iconfont icon-left\"})),u.a.createElement(\"p\",null,t),u.a.createElement(p.a,{href:\"/\"},u.a.createElement(\"a\",null,u.a.createElement(\"i\",{className:\"iconfont icon-home\"}))))}}]),e}(s.Component)},nZhP:function(t,e,n){\"use strict\";n.r(e);var a=n(\"ln6h\"),r=n.n(a),i=n(\"O40h\"),l=n(\"0iUn\"),c=n(\"sLSF\"),s=n(\"MI3g\"),u=n(\"a7VT\"),o=n(\"Tit0\"),p=n(\"q1tI\"),f=n.n(p),d=n(\"YFqc\"),h=n.n(d),m=(n(\"HMs9\"),n(\"/MKj\")),y=n(\"+A8i\"),v=n(\"b0oO\"),b=n(\"VFWX\"),g=n(\"Qn3X\"),E=n(\"70ZN\"),O=function(t){function e(t){var n;Object(l.default)(this,e),n=Object(s.default)(this,Object(u.default)(e).call(this,t));var a=t.playlist;return n.state={playlistData:a,more:!0},n}return Object(o.default)(e,t),Object(c.default)(e,[{key:\"componentDidMount\",value:function(){this.props.isServer&&this.props.fetchListPlaylist(0)}},{key:\"render\",value:function(){var t=this.state,e=t.playlistData,n=t.more;return f.a.createElement(\"div\",{id:\"playlist\"},f.a.createElement(v.a,{title:\"推荐歌单\"}),f.a.createElement(E.a,{fetchData:this.props.fetchListPlaylist,len:e.length,more:n},f.a.createElement(\"ul\",{className:\"list m-music__list\"},e.length?e.map(function(t,e){return f.a.createElement(\"li\",{key:t.id},f.a.createElement(\"div\",{className:\"pic\"},f.a.createElement(g.a,{url:t.coverImgUrl,size:400})),f.a.createElement(\"p\",{className:\"desc\"},t.name),f.a.createElement(h.a,{href:{pathname:\"/detail/playlist\",query:{id:t.id}}},f.a.createElement(\"a\",{className:\"link\"})))}):f.a.createElement(b.a,null))))}}],[{key:\"getDerivedStateFromProps\",value:function(t,e){return t.playlist&&t.playlist!==e.playlistData?{playlistData:t.playlist,more:t.more}:null}}]),e}(p.Component),j=Object(m.b)(function(t){return{playlist:t.list.playlist.playlists,more:t.list.playlist.more}},function(t){return{fetchListPlaylist:function(e){t(Object(y.d)(e))}}})(O);j.getInitialProps=function(){var t=Object(i.default)(r.a.mark(function t(e){var n,a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ctx,a=n.store,i=n.isServer,a.dispatch(Object(y.d)(0)),t.abrupt(\"return\",{isServer:i});case 3:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();e.default=j},vSzD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/list/playlist\",function(){var t=n(\"nZhP\");return{page:t.default||t}}])}},[[\"vSzD\",\"5d41\",\"9da1\"]]]);"}